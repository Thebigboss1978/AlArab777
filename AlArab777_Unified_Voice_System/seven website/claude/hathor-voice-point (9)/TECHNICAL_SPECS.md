
# ALARAB CLUB 777 - TECHNICAL BLUEPRINT & SPECIFICATIONS
**Property of AlArab Club 777 | Nazlet El-Semman Headquarters**

---

## 1. PROJECT OVERVIEW
**System Name:** Judy OS (v2.0)
**Core Function:** AI-Powered Tourism Hub & Concierge
**Primary Goal:** Providing a futuristic, voice-driven interface for booking hotels, tours, and services in Giza.
**Deploy Status:** LIVE (Online)

---

## 2. THE STACK (TECHNOLOGY USED)

### A. Frontend Core
*   **Framework:** React 19 (Latest)
*   **Bundler:** Next.js / Vite Architecture (ESM Modules via `esm.sh`)
*   **Language:** TypeScript (Strict Mode)
*   **Styling:** Tailwind CSS (CDN Injected for speed)
*   **Icons:** Lucide React (Feather-weight icons)

### B. AI & Voice Engine (The Brain)
*   **Active Provider:** Google Gemini API (Configurable)
*   **Multi-Agent Readiness:** The system is architected to switch between:
    1.  **Google Gemini** (Current Active - for Logic & Tools)
    2.  **OpenAI GPT-4o** (Ready for Integration)
    3.  **ElevenLabs** (Ready for Voice Synthesis Layer)
*   **Model:** `gemini-2.5-flash-native-audio-preview-12-2025`
*   **Client Library:** `@google/genai` (v1.39.0)
*   **Voice Identity:** "Judy" (Configured via `config/judyConfig.ts`)

### C. Audio Processing (The Ears)
*   **Input:** Web Audio API (`AudioContext` @ 16kHz)
*   **Output:** High-Fidelity Playback (`AudioContext` @ 24kHz)
*   **Protocol:** WebSocket (Bi-directional streaming)
*   **Noise Gate:** Custom implemented RMS threshold (0.02) to filter background street noise.

---

## 3. CORE FEATURES (WHAT'S INSIDE)

### I. The "Judy" Voice Point
*   **Initiative Protocol:** Judy speaks FIRST upon connection. (Triggered via hidden text prompt).
*   **Floating Orb:** A visual representation of the AI using HTML5 Canvas particles.
*   **Behavior:**
    *   *Idle:* Slowly drifting particles (Starfield).
    *   *Listening:* Expands slightly.
    *   *Speaking:* Pulses vigorously in sync with audio amplitude (Gold Aura).
*   **Capabilities:** Speaks Egyptian Ammiya, knows the hotel details, books tours.

### II. Automated Landing Page Generator (The "Magic Wand")
*   **Input:** Google Maps URL.
*   **Process:** Simulation of data scraping (Name, Rating, Images).
*   **Output:** A fully designed "Luxury Hotel Page" with dynamic pricing.
*   **Pricing Logic:** Calculates "777 Discount" (Commission Free).

### III. The Service Portfolio (Knowledge Base)
1.  **Family Hotels (Diafa Ahliya):** Converting local homes into luxury suites.
2.  **Co-working Space:** Remote work with a Pyramids view.
3.  **Tours:** Full management of Pyramids and Desert trips.
4.  **Bazaar:** In-house souvenir shop.

---

## 4. API ARCHITECTURE

### Environment Variables
*   `API_KEY`: **CRITICAL**. This connects to Google Cloud. Must be enabled for "Generative Language API".

### Data Flow (Live API)
1.  **Connection:** `ai.live.connect()` establishes a persistent session.
2.  **Trigger:** System sends a text prompt: "User entered. Greet immediately."
3.  **User Speaks:** Microphone data -> Int16Array -> Base64 -> WebSocket.
4.  **Model Thinks:** Processes audio vector.
5.  **Model Speaks:** Returns Base64 Audio -> Decoded -> Played via Web Audio.

---

## 5. FILE STRUCTURE (THE MAP)

*   `config/judyConfig.ts`: **THE MASTER BRAIN**. Contains the System Prompt, Provider Switch (Google/GPT), and Initiation Triggers.
*   `hooks/useVoiceAgent.ts`: **THE CORE**. Handles all audio streams, connections, and routing logic based on the Config.
*   `components/VoiceOrb.tsx`: Visualizer for the AI.
*   `App.tsx`: Main Shell, Navigation, Routing.

---

## 6. SECURITY & PERFORMANCE
*   **Rate Limiting:** Handled by Google Cloud Quotas.
*   **Memory Management:** `useVoiceAgent` includes strict cleanup routines to close AudioContexts and prevent memory leaks on mobile.
*   **Mobile Optimization:** Prevented text selection, custom scrollbars, touch-optimized sizing.

---

**End of Specification**
*Generated by Judy OS for AlArab Club 777 Administration.*
